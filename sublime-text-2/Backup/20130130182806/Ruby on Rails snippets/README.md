# Sublime Text 2 Rails snippets

This replaces the default Rails snippets from Sublime Text 2. All the features can be found in [this cheatsheet](http://tadast.github.com/sublime-rails-snippets) generated by [Snipcheat](https://github.com/tadast/snipcheat).

# Installation

** This package replaces the default Sublime Rails snippets.**

If you installed it via Package control, you will need to do some housekeeping, see [troubleshooting](#troubleshooting).

Regardless of which way of installation you choose, please backup the old Rails snippets installation. You don't want to have both this and the original installed.

    ➜ cd ~/Library/Application\ Support/Sublime\ Text\ 2/Packages
    ➜ mv Rails ~/.RailsSublimeBackup

## From Git

    ➜ cd ~/Library/Application\ Support/Sublime\ Text\ 2/Packages
    ➜ git clone https://github.com/tadast/sublime-rails-snippets.git Rails

It is important to clone it into a folder called Rails. Some other snippets have hardcoded dependencies pointing to that path. See troubleshooting.

## From an archive

* Go to the downloads section
* Download the preferred type of archive.
* Extract it to your `Packages/Rails`

## From Package control

Look for "Ruby on Rails snippets". [Here's how to install packages](http://wbond.net/sublime_packages/package_control/usage)

### Troubleshooting

#### Can't find *.tmLanguage

If Sublime complains it can't find `Ruby on Rails.tmLanguage`, chances are you are using [this hack](https://gist.github.com/925008).
You'll need to change the path where it looks for that file. Here's the [forked version which works with this plugin](https://gist.github.com/4161901).

You may also need to change `Packages/(DetectSyntax|User)/DetectSyntax.sublime-settings` to replace/include this rule

    {
      "name": "Ruby on Rails snippets/Ruby Haml",
      "rules": [
        {"file_name": ".*\\.haml$"}
      ]
    },
    {
      "name": "Ruby on Rails snippets/Ruby on Rails",
      "rules": [
        {"function": {"name": "is_rails_file"}}
      ]
    }

For all the changes to take effect you may also need to quit Sublime and delete Sublime's session cache.

    rm ~/Library/Application\ Support/Sublime\ Text\ 2/Settings/Session.sublime_session
    
This will lose all session data (Sublime will 'forget' open filetabs, projects, search history etc.)

#### Sublime picks Ruby syntax 

You may need to tell Sublime to prefer Rails
View -> Syntax -> Open all with current extension as... and pick `Rails` of Ruby on Rails snippets
